{"remainingRequest":"D:\\Study\\Vue项目\\manage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Study\\Vue项目\\manage\\src\\views\\Login.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"D:\\Study\\Vue项目\\manage\\src\\views\\Login.vue","mtime":1640825310752},{"path":"D:\\Study\\Vue项目\\manage\\node_modules\\css-loader\\dist\\cjs.js","mtime":1634822237994},{"path":"D:\\Study\\Vue项目\\manage\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1634822240606},{"path":"D:\\Study\\Vue项目\\manage\\node_modules\\postcss-loader\\src\\index.js","mtime":1634822239420},{"path":"D:\\Study\\Vue项目\\manage\\node_modules\\less-loader\\dist\\cjs.js","mtime":1634822261944},{"path":"D:\\Study\\Vue项目\\manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634822236723},{"path":"D:\\Study\\Vue项目\\manage\\node_modules\\vue-loader\\lib\\index.js","mtime":1634822239785}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmJvZHkxew0KICB3aWR0aDogMjAlOw0KICBoZWlnaHQ6IDMwJTsNCiAgbWFyZ2luOjAgYXV0bzsNCiAgbWFyZ2luLXRvcDozNTBweDsNCiAgaDJ7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIGNvbG9yOndoaXRlOw0KICB9DQp9DQpib2R5ew0KICBiYWNrZ3JvdW5kLWNvbG9yOiBzbGF0ZWdyYXk7DQp9DQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"body1\">\r\n    <h2>登录页面</h2>\r\n    <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\"  class=\"demo-ruleForm\">\r\n      <el-form-item  prop=\"username\">\r\n        <el-input\r\n            type=\"text\"\r\n            v-model=\"ruleForm.username\"\r\n            autocomplete=\"off\"\r\n            placeholder=\"账号\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item  prop=\"pwd\">\r\n        <el-input\r\n            type=\"password\"\r\n            v-model=\"ruleForm.pwd\"\r\n            autocomplete=\"off\"\r\n            placeholder=\"密码\"\r\n        ></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item>\r\n        <el-button\r\n            type=\"primary\"\r\n            @click=\"loginFn('ruleForm')\"\r\n            style=\"width:100%\"\r\n        >登录</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {LoginApi} from \"@/request/api\";\r\nimport {SETMENU} from \"@/store/mutation-types\";\r\nexport default {\r\n      data(){\r\n        return{\r\n          ruleForm:{},\r\n          rules:{\r\n            username:[\r\n              {required:true,message:'账号不能为空！',trigger:'blur'},\r\n              {validator:this.valiName,trigger: 'blur'}\r\n            ],\r\n            pwd:[\r\n              {required:true,message:'密码不能为空！',trigger:'blur'},\r\n              {validator:this.valiPwd,trigger: 'blur'}]\r\n          }\r\n        }\r\n      },\r\n    methods:{\r\n        // valiName(rule,value,callback){\r\n        //   if(value.length<3||value.length>20){\r\n        //     callback('账号长度3-20个字符')\r\n        //   }else{\r\n        //     callback()\r\n        //   }\r\n        // },\r\n        // valiPwd(rule,value,callback){\r\n        //   if(value.length<3||value.length>20){\r\n        //     callback('密码长度3-20个字符')\r\n        //   }else{\r\n        //     callback()\r\n        //   }\r\n        // },\r\n      loginFn(form){\r\n          this.$refs[form].validate((vali)=>{\r\n            if(vali){\r\n              //实现登录\r\n              LoginApi({\r\n                username:this.ruleForm.username,\r\n                password:this.ruleForm.pwd\r\n              }).then(res=>{\r\n                if(res.errno===0){\r\n                  //储存token值\r\n                  localStorage.setItem('token',res.data.token)\r\n                  this.$store.commit(SETMENU,res.data.menu)\r\n                  //跳转\r\n                  this.$router.push('/')\r\n                }\r\n              })\r\n            }\r\n          })\r\n      }\r\n\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.body1{\r\n  width: 20%;\r\n  height: 30%;\r\n  margin:0 auto;\r\n  margin-top:350px;\r\n  h2{\r\n    text-align: center;\r\n    color:white;\r\n  }\r\n}\r\nbody{\r\n  background-color: slategray;\r\n}\r\n</style>"]}]}