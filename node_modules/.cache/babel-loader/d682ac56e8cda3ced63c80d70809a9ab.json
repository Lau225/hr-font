{"remainingRequest":"D:\\学习资料\\Vue项目\\manage\\node_modules\\babel-loader\\lib\\index.js!D:\\学习资料\\Vue项目\\manage\\src\\router\\index.js","dependencies":[{"path":"D:\\学习资料\\Vue项目\\manage\\src\\router\\index.js","mtime":1635730701993},{"path":"D:\\学习资料\\Vue项目\\manage\\babel.config.js","mtime":1635128568437},{"path":"D:\\学习资料\\Vue项目\\manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634822236723},{"path":"D:\\学习资料\\Vue项目\\manage\\node_modules\\babel-loader\\lib\\index.js","mtime":1634822239746}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IEdldFVzZXJCeVRva2VuIH0gZnJvbSAnQC9yZXF1ZXN0L2FwaSc7CmltcG9ydCB7IFNFVE1FTlUgfSBmcm9tICJAL3N0b3JlL211dGF0aW9uLXR5cGVzIjsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvbG9naW4nLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgKICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJsb2dpbiIgKi8KICAgICcuLi92aWV3cy8xL2xvZ2luL0xvZ2luJyk7CiAgfQp9LCB7CiAgcGF0aDogJy8nLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgKICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJob21lcGFnZSIgKi8KICAgICcuLi92aWV3cy9Ib21lUGFnZS9Ib21lUGFnZScpOwogIH0sCiAgY2hpbGRyZW46IFtdCn1dOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKCiAgaWYgKHRva2VuKSB7CiAgICBHZXRVc2VyQnlUb2tlbigpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAocmVzLmVycm5vID09PSAwKSB7CiAgICAgICAgLy/orr7nva7mnYPpmZDliJfooagKICAgICAgICBzdG9yZS5jb21taXQoU0VUTUVOVSwgcmVzLmRhdGEubWVudSk7CiAgICAgIH0KCiAgICAgIG5leHQoKTsKICAgIH0pOwogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["D:/学习资料/Vue项目/manage/src/router/index.js"],"names":["Vue","VueRouter","GetUserByToken","SETMENU","store","use","routes","path","component","children","router","mode","beforeEach","to","from","next","token","localStorage","getItem","then","res","errno","commit","data","menu"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAAQC,cAAR,QAA6B,eAA7B;AACA,SAAQC,OAAR,QAAsB,wBAAtB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACAJ,GAAG,CAACK,GAAJ,CAAQJ,SAAR;AAEA,IAAMK,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAC,QADP;AAEEC,EAAAA,SAAS,EAAE;AAAA,WAAM;AAAO;AAAgC,4BAAvC,CAAN;AAAA;AAFb,CADa,EAKb;AACED,EAAAA,IAAI,EAAC,GADP;AAEEC,EAAAA,SAAS,EAAE;AAAA,WAAM;AAAO;AAAmC,gCAA1C,CAAN;AAAA,GAFb;AAGEC,EAAAA,QAAQ,EAAC;AAHX,CALa,CAAf;AAcA,IAAMC,MAAM,GAAG,IAAIT,SAAJ,CAAc;AAC3BU,EAAAA,IAAI,EAAC,SADsB;AAE3BL,EAAAA,MAAM,EAANA;AAF2B,CAAd,CAAf;AAIAI,MAAM,CAACE,UAAP,CAAkB,UAACC,EAAD,EAAIC,IAAJ,EAASC,IAAT,EAAgB;AAChC,MAAIC,KAAK,GAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAV;;AACA,MAAGF,KAAH,EAAS;AACPd,IAAAA,cAAc,GAAGiB,IAAjB,CAAsB,UAAAC,GAAG,EAAE;AACzB,UAAGA,GAAG,CAACC,KAAJ,KAAY,CAAf,EAAiB;AACf;AACAjB,QAAAA,KAAK,CAACkB,MAAN,CAAanB,OAAb,EAAqBiB,GAAG,CAACG,IAAJ,CAASC,IAA9B;AACD;;AACDT,MAAAA,IAAI;AACL,KAND;AAQD,GATD,MASK;AACHA,IAAAA,IAAI;AACL;AAEF,CAfD;AAgBA,eAAeL,MAAf","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport {GetUserByToken} from '@/request/api'\r\nimport {SETMENU} from \"@/store/mutation-types\"\r\nimport store from \"@/store\"\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  {\r\n    path:'/login',\r\n    component: () => import(/* webpackChunkName: \"login\" */ '../views/1/login/Login')\r\n  },\r\n  {\r\n    path:'/',\r\n    component: () => import(/* webpackChunkName: \"homepage\" */ '../views/HomePage/HomePage'),\r\n    children:[\r\n\r\n    ]\r\n  }\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode:'history',\r\n  routes\r\n})\r\nrouter.beforeEach((to,from,next)=>{\r\n  let token=localStorage.getItem(\"token\")\r\n  if(token){\r\n    GetUserByToken().then(res=>{\r\n      if(res.errno===0){\r\n        //设置权限列表\r\n        store.commit(SETMENU,res.data.menu)\r\n      }\r\n      next();\r\n    })\r\n\r\n  }else{\r\n    next();\r\n  }\r\n\r\n})\r\nexport default router\r\n"]}]}