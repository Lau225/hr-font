{"remainingRequest":"D:\\Study\\Vue项目\\manage\\node_modules\\babel-loader\\lib\\index.js!D:\\Study\\Vue项目\\manage\\src\\router\\index.js","dependencies":[{"path":"D:\\Study\\Vue项目\\manage\\src\\router\\index.js","mtime":1640826181979},{"path":"D:\\Study\\Vue项目\\manage\\babel.config.js","mtime":1635128568437},{"path":"D:\\Study\\Vue项目\\manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634822236723},{"path":"D:\\Study\\Vue项目\\manage\\node_modules\\babel-loader\\lib\\index.js","mtime":1634822239746}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IEdldFVzZXJCeVRva2VuIH0gZnJvbSAnQC9yZXF1ZXN0L2FwaSc7CmltcG9ydCB7IFNFVE1FTlUgfSBmcm9tICJAL3N0b3JlL211dGF0aW9uLXR5cGVzIjsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvbG9naW4nLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgKICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJsb2dpbiIgKi8KICAgICcuLi92aWV3cy9Mb2dpbicpOwogIH0KfSwgewogIHBhdGg6ICcvJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoCiAgICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAiaG9tZXBhZ2UiICovCiAgICAnLi4vdmlld3MvSG9tZVBhZ2UvSG9tZVBhZ2UnKTsKICB9LAogIGNoaWxkcmVuOiBbewogICAgcGF0aDogJy9nb29kJywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KAogICAgICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAiZ29vZCIgKi8KICAgICAgJy4uL3ZpZXdzL2dvb2QvR29vZCcpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICcvY2F0ZWdvcnknLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoCiAgICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJjYXRlZ29yeSIgKi8KICAgICAgJy4uL3ZpZXdzL2NhdGVnb3J5L0NhdGVnb3J5Jyk7CiAgICB9CiAgfSwgewogICAgcGF0aDogJy9hdHRyaWJ1dGUnLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoCiAgICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJhdHRyaWJ1dGUiICovCiAgICAgICcuLi92aWV3cy9hdHRyaWJ1dGUvQXR0cmlidXRlJyk7CiAgICB9CiAgfV0KfV07CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgcm91dGVzOiByb3V0ZXMKfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwoKICBpZiAodG9rZW4pIHsKICAgIEdldFVzZXJCeVRva2VuKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIGlmIChyZXMuZXJybm8gPT09IDApIHsKICAgICAgICAvL+iuvue9ruadg+mZkOWIl+ihqAogICAgICAgIHN0b3JlLmNvbW1pdChTRVRNRU5VLCByZXMuZGF0YS5tZW51KTsKICAgICAgfQoKICAgICAgbmV4dCgpOwogICAgfSk7CiAgfSBlbHNlIHsKICAgIG5leHQoKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["D:/Study/Vue项目/manage/src/router/index.js"],"names":["Vue","VueRouter","GetUserByToken","SETMENU","store","use","routes","path","component","children","router","mode","beforeEach","to","from","next","token","localStorage","getItem","then","res","errno","commit","data","menu"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAAQC,cAAR,QAA6B,eAA7B;AACA,SAAQC,OAAR,QAAsB,wBAAtB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACAJ,GAAG,CAACK,GAAJ,CAAQJ,SAAR;AAEA,IAAMK,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAC,QADP;AAEEC,EAAAA,SAAS,EAAE;AAAA,WAAM;AAAO;AAAgC,oBAAvC,CAAN;AAAA;AAFb,CADa,EAKb;AACED,EAAAA,IAAI,EAAC,GADP;AAEEC,EAAAA,SAAS,EAAE;AAAA,WAAM;AAAO;AAAmC,gCAA1C,CAAN;AAAA,GAFb;AAGEC,EAAAA,QAAQ,EAAC,CACP;AACEF,IAAAA,IAAI,EAAC,OADP;AAEEC,IAAAA,SAAS,EAAC;AAAA,aAAI;AAAO;AAA+B,0BAAtC,CAAJ;AAAA;AAFZ,GADO,EAKP;AACED,IAAAA,IAAI,EAAC,WADP;AAEEC,IAAAA,SAAS,EAAC;AAAA,aAAI;AAAO;AAAmC,kCAA1C,CAAJ;AAAA;AAFZ,GALO,EASP;AACED,IAAAA,IAAI,EAAE,YADR;AAEEC,IAAAA,SAAS,EAAC;AAAA,aAAI;AAAO;AAAoC,oCAA3C,CAAJ;AAAA;AAFZ,GATO;AAHX,CALa,CAAf;AAyBA,IAAME,MAAM,GAAG,IAAIT,SAAJ,CAAc;AAC3BU,EAAAA,IAAI,EAAC,SADsB;AAE3BL,EAAAA,MAAM,EAANA;AAF2B,CAAd,CAAf;AAIAI,MAAM,CAACE,UAAP,CAAkB,UAACC,EAAD,EAAIC,IAAJ,EAASC,IAAT,EAAgB;AAChC,MAAIC,KAAK,GAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAV;;AACA,MAAGF,KAAH,EAAS;AACPd,IAAAA,cAAc,GAAGiB,IAAjB,CAAsB,UAAAC,GAAG,EAAE;AACzB,UAAGA,GAAG,CAACC,KAAJ,KAAY,CAAf,EAAiB;AACf;AACAjB,QAAAA,KAAK,CAACkB,MAAN,CAAanB,OAAb,EAAqBiB,GAAG,CAACG,IAAJ,CAASC,IAA9B;AACD;;AACDT,MAAAA,IAAI;AACL,KAND;AAQD,GATD,MASK;AACHA,IAAAA,IAAI;AACL;AAEF,CAfD;AAgBA,eAAeL,MAAf","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport {GetUserByToken} from '@/request/api'\r\nimport {SETMENU} from \"@/store/mutation-types\"\r\nimport store from \"@/store\"\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  {\r\n    path:'/login',\r\n    component: () => import(/* webpackChunkName: \"login\" */ '../views/Login'),\r\n  },\r\n  {\r\n    path:'/',\r\n    component: () => import(/* webpackChunkName: \"homepage\" */ '../views/HomePage/HomePage'),\r\n    children:[\r\n      {\r\n        path:'/good',\r\n        component:()=>import(/* webpackChunkName: \"good\" */ '../views/good/Good')\r\n      },\r\n      {\r\n        path:'/category',\r\n        component:()=>import(/* webpackChunkName: \"category\" */ '../views/category/Category')\r\n      },\r\n      {\r\n        path: '/attribute',\r\n        component:()=>import(/* webpackChunkName: \"attribute\" */ '../views/attribute/Attribute')\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode:'history',\r\n  routes\r\n})\r\nrouter.beforeEach((to,from,next)=>{\r\n  let token=localStorage.getItem(\"token\")\r\n  if(token){\r\n    GetUserByToken().then(res=>{\r\n      if(res.errno===0){\r\n        //设置权限列表\r\n        store.commit(SETMENU,res.data.menu)\r\n      }\r\n      next();\r\n    })\r\n\r\n  }else{\r\n    next();\r\n  }\r\n\r\n})\r\nexport default router\r\n"]}]}